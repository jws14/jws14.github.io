{
  "hash": "17bdd5e655bea71d0ee2a7b326fbd080",
  "result": {
    "markdown": "---\ntitle: \"DANL200 Project\"\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(skimr)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake <- read_csv('/Users/jeremysun/Documents/Important/Data Analytics 200/Project/earthquakedata.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 53539 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (3): Date & Time, Lands, Country\ndbl (4): Latitude, Longitude, Depth, Magnitude\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n##10 most frequently quaked countries\n\n::: {.cell}\n\n```{.r .cell-code}\nquaked <- earthquake %>% \n  group_by(Country , Lands) %>% \n  summarize(count =n()) %>% \n  arrange(desc(count)) %>% \n  filter(row_number() <=10) %>% \n  head(quaked, n = 10)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'Country'. You can override using the\n`.groups` argument.\n```\n:::\n\n```{.r .cell-code}\n# the month with the most earthquakes occuring \nearthquake$Month <- rowSums(earthquake[,4:5])\nearthquake$Month[1:6055] <- \"NOVEMBER\"\nearthquake$Month[6056:14543] <- \"OCTOBER\"\nearthquake$Month[14544:23404] <- \"SEPTEMBER\"\nearthquake$Month[23405:31631] <- \"AUGUST\"\nearthquake$Month[31632:40673] <- \"JULY\"\nearthquake$Month[40674:48647] <- \"JUNE\"\nearthquake$Month[48648:53539] <- \"MAY\"\n\ndensemonth <- earthquake %>% \n  group_by(Month) %>% \n  summarize(count =n()) %>% \n  arrange(desc(count)) %>% \n  filter(row_number() <=7)\n```\n:::\n\n\n\n\n\n##Visualization\n\n::: {.cell}\n\n```{.r .cell-code}\ndense <- earthquake %>% \n  group_by(Month,Country,Lands) %>% \n  summarize(count =n()) %>% \n  arrange(desc(count)) %>% \n  filter(row_number() <=7) %>% \n  head(dense, n=15)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'Month', 'Country'. You can override using\nthe `.groups` argument.\n```\n:::\n\n```{.r .cell-code}\nggplot(dense) +\n  geom_bar(aes(y = Country, x = stat(count),\n               group = 1)) +\n  facet_wrap(Month ~ . , ncol = 5)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: `stat(count)` was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(count)` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(dense,\n       aes(y = Month,\n           fill = Country)) +\n  geom_bar(show.legend = T)\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(dense) +\n  geom_bar(aes(y = Country, \n               x = stat(prop), group = 1)) +\n  facet_grid(Month ~.)\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-4-3.png){width=672}\n:::\n:::\n\n\n\n##Summary Statistics \n\n::: {.cell}\n\n```{.r .cell-code}\nsummagnitude <- earthquake %>% \n  summarize(\n    mean_magnitude = mean(Magnitude, na.rm = T), \n    sd_magnitude = sd(Magnitude),\n    q1_magnitude = quantile(Magnitude, probs = .25, na.rm = T),\n    median_magnitude = median(Magnitude),\n    q3_magnitude = quantile(Magnitude, probs = .75, na.rm =  T),\n    min_magnitude = min(Magnitude, na.rm = T),\n    max_magnitude = max(Magnitude, na.rm = T)\n  )\n\nskim(earthquake$Magnitude)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |                     |\n|:------------------------|:--------------------|\n|Name                     |earthquake$Magnitude |\n|Number of rows           |53539                |\n|Number of columns        |1                    |\n|_______________________  |                     |\n|Column type frequency:   |                     |\n|numeric                  |1                    |\n|________________________ |                     |\n|Group variables          |None                 |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate| mean|   sd|   p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|----:|----:|----:|---:|---:|---:|----:|:-----|\n|data          |         0|             1| 2.96| 0.89| -0.7| 2.3| 2.9| 3.5|  7.7|▁▆▇▁▁ |\n:::\n\n```{.r .cell-code}\nskim(earthquake$Depth)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |                 |\n|:------------------------|:----------------|\n|Name                     |earthquake$Depth |\n|Number of rows           |53539            |\n|Number of columns        |1                |\n|_______________________  |                 |\n|Column type frequency:   |                 |\n|numeric                  |1                |\n|________________________ |                 |\n|Group variables          |None             |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate| mean|    sd| p0| p25| p50| p75| p100|hist  |\n|:-------------|---------:|-------------:|----:|-----:|--:|---:|---:|---:|----:|:-----|\n|data          |         0|             1| 35.8| 67.58| -4|   6|  10|  32|  750|▇▁▁▁▁ |\n:::\n:::\n\n##Shows the frequencey of how often a level of Magnitude and depth occurs\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = log(Magnitude))) +\n  geom_freqpoly(bins = 100)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in log(Magnitude): NaNs produced\n\nWarning in log(Magnitude): NaNs produced\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 4 rows containing non-finite values (`stat_bin()`).\n```\n:::\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Magnitude)) +\n  geom_freqpoly(bins = 100)\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = log(Depth))) +\n  geom_histogram(bins = 50)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in log(Depth): NaNs produced\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in log(Depth): NaNs produced\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 1127 rows containing non-finite values (`stat_bin()`).\n```\n:::\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Depth)) +\n  geom_histogram(bins = 50)\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-6-4.png){width=672}\n:::\n:::\n\n\n\n##How depth and magnitude differ in our visualizations\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Magnitude, y = Depth )) +\n  geom_line() +\n  labs(title = \"Relationship between Magnitude and Depth\",\n       x = \"Magnitude\",\n       y = \"Depth\")\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# THE DATA IS TOO GIANT IN ORDER TO PLOT INTO A \n# LINE PLOT BUT WE CAN SEE THAT THE MAGNITUDE \n# BETWEEN 3 AND 4 HAS THE GREATEST DEPTH \n```\n:::\n\n\n##Create a histogram with facets\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(earthquake, aes(x = Magnitude)) +\n  geom_histogram(binwidth = 0.5, fill = \"blue\", color = \"black\", alpha = 0.7) +\n  facet_wrap(~Month, scales = \"free_y\") +\n  labs(title = \"Histogram of Magnitude by month\", x = \"Magnitude\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Manginutde and depth\nggplot(earthquake,\n       aes(x = Magnitude, y = Depth)) +\n  geom_point(alpha = .05, size = .75) +\n  geom_smooth() +\n  geom_smooth(method = lm, color = 'red')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# magnitude and depth\nggplot(earthquake,\n       aes(x = Magnitude, y = Depth)) +\n  geom_hex() +\n  geom_smooth() +\n  geom_smooth(method = lm, color = 'red')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-8-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(earthquake) +\n  geom_bar(aes(x = Magnitude, \n               y = stat(count), group = 1)) \n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-8-4.png){width=672}\n:::\n:::\n\n# _____________________________________________________\n\n::: {.cell}\n\n```{.r .cell-code}\nearthquake$Season <- rowSums(earthquake[,4:5])\nearthquake$Season[48648:53539] <- \"SPRING\"\nearthquake$Season[23405:48647] <- \"SUMMER\"\nearthquake$Season[1:23404] <- \"FALL\"\n\n\n# which season is more earthquake prone \ndenseseason <- earthquake %>% \n  group_by(Season) %>% \n  summarize(count =n()) %>% \n  arrange(desc(count)) %>% \n  filter(row_number() <=3)\n\n# visualization\nggplot(earthquake) +\n  geom_bar(aes(x = Month, y = stat(count),\n               group = 1)) +\n  facet_wrap(Season ~ . , ncol = 5)\n```\n\n::: {.cell-output-display}\n![](DANL200-Project_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n```",
    "supporting": [
      "DANL200-Project_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}